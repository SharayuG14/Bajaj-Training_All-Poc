<header class="header-container">
  <div class="header-left">
    <!-- Hamburger for mobile - toggles left sidebar offcanvas -->
    <button class="hamburger" data-bs-toggle="offcanvas" data-bs-target="#sidebarOffcanvas">
      <i class="fas fa-bars"></i>
    </button>

    <!-- Logo -->
    <a routerLink="/home" class="logo">Bajaj <span>eCommerce</span></a>
  </div>

  <!-- Center Search Bar -->
  <div class="header-center">
    <input type="text" placeholder="Search products..." [(ngModel)]="searchQuery" (input)="onSearch($event)">
    <button><i class="fas fa-search"></i></button>

    <!-- Suggestions Dropdown -->
    <ul class="search-suggestions" *ngIf="suggestions && suggestions.length > 0">
      <li *ngFor="let suggestion of suggestions" (click)="selectSuggestion(suggestion)">{{ suggestion }}</li>
    </ul>
  </div>

  <div class="header-right">
    <ng-container *ngIf="isAuthenticated; else guestLinks">
      <span class="welcome-text d-none d-md-inline">Hi, {{ currentUserName || 'Shopper' }}</span>
      <a routerLink="/orders"><i class="fas fa-receipt"></i></a>
      <a
        *ngIf="isAdmin"
        routerLink="/products/register"
        class="btn btn-outline-secondary btn-sm admin-link d-none d-md-inline-flex align-items-center gap-2"
      >
        <i class="fas fa-tools"></i>
        <span>Admin</span>
      </a>
      <a routerLink="/cart" class="position-relative btn btn-outline-primary btn-sm d-inline-flex align-items-center gap-2 view-cart-link">
        <i class="fas fa-shopping-cart"></i>
        <span class="d-none d-sm-inline">View Cart</span>
        <span *ngIf="cartCount > 0" class="cart-count badge bg-danger">{{ cartCount }}</span>
      </a>
      <button class="btn btn-link logout-link" (click)="logout()">
        <i class="fas fa-sign-out-alt"></i>
        <span class="d-none d-sm-inline">Logout</span>
      </button>
    </ng-container>
    <ng-template #guestLinks>
      <button class="btn btn-outline-primary btn-sm" (click)="navigateToLogin()">Sign In</button>
      <button class="btn btn-primary btn-sm" (click)="navigateToRegister()">Register</button>
      <a routerLink="/cart" class="position-relative btn btn-outline-primary btn-sm d-inline-flex align-items-center gap-2 view-cart-link">
        <i class="fas fa-shopping-cart"></i>
        <span class="d-none d-sm-inline">View Cart</span>
        <span *ngIf="cartCount > 0" class="cart-count badge bg-danger">{{ cartCount }}</span>
      </a>
    </ng-template>
  </div>
</header>
